cas.host.name     = {{ cas_server_name }}
cas.server.name   = https://{{ cas_server_name }}
cas.server.prefix = {{ cas_base_url }}

# https://apereo.github.io/cas/6.2.x/services/JSON-Service-Management.html#json-service-registry
# https://apereo.github.io/cas/6.2.x/services/AutoInitialization-Service-Management.html#service-registry-initialization
# https://apereo.github.io/cas/6.2.x/configuration/Configuration-Properties.html#service-registry
cas.service-registry.json.location=file:/etc/cas/services
cas.service-registry.init-from-json=true
cas.service-registry.watcher-enabled=false

cas.authn.accept.users=
cas.authn.accept.name=
cas.authn.accept.credentialCriteria=

# LDAP authentication
# https://apereo.github.io/cas/6.2.x/configuration/Configuration-Properties.html#ldap-authentication
cas.authn.ldap[0].type                   = AUTHENTICATED
cas.authn.ldap[0].ldapUrl                = {{ cas_ldap.url }}
cas.authn.ldap[0].connectionStrategy     = ACTIVE_PASSIVE
cas.authn.ldap[0].useSsl                 = true
cas.authn.ldap[0].useStartTls            = false
cas.authn.ldap[0].baseDn                 = {{ cas_ldap.baseDn                 }}
cas.authn.ldap[0].searchFilter           = {{ cas_ldap.searchFilter           }}
cas.authn.ldap[0].bindDn                 = {{ cas_ldap.bindDn                 }}
cas.authn.ldap[0].bindCredential         = {{ cas_ldap.bindPassword           }}
cas.authn.ldap[0].dnFormat               = {{ cas_ldap.dnFormat               }}
cas.authn.ldap[0].principalAttributeId   = {{ cas_ldap.PrincipalAttributeId   }}
cas.authn.ldap[0].principalAttributeList = {{ cas_ldap.PrincipalAttributeList }}

# OpenID
# https://apereo.github.io/cas/6.2.x/installation/OIDC-Authentication.html
# https://apereo.github.io/cas/6.2.x/configuration/Configuration-Properties.html#openid-connect
cas.authn.oidc.jwksFile=file:/etc/cas/openid.jwks
cas.authn.oidc.issuer=https://{{ cas_server_name }}{{ cas_base_uri }}/oidc
cas.authn.oidc.claims=email
cas.authn.oidc.dynamicClientRegistrationMode=PROTECTED

# SAML
# https://apereo.github.io/cas/6.2.x/integration/Configuring-SAML-SP-Integrations.html
# https://apereo.github.io/cas/6.2.x/configuration/Configuration-Properties.html#saml-idp
# https://apereo.github.io/cas/6.2.x/configuration/Configuration-Properties-Common.html#saml2-service-provider-integrations
cas.authn.saml-idp.entity-id = {{ cas_server_name }}{{ cas_base_uri }}
cas.authn.saml-idp.metadata.location=file:/etc/cas/saml

cas.webflow.crypto.signing.key    = {{ cas_crypto.webflowSigningKey    }}
cas.webflow.crypto.encryption.key = {{ cas_crypto.webflowEncryptionKey }}
cas.tgc.crypto.signing.key        = {{ cas_crypto.tgcSigningKey        }}
cas.tgc.crypto.encryption.key     = {{ cas_crypto.tgcEncryptionKey     }}

logging.level.org.apereo.cas=WARN

server.servlet.context-path={{ cas_base_uri }}
server.port=8080
server.ssl.enabled=false

cas.server.tomcat.serverName=City of Bloomington CAS
cas.server.tomcat.basicAuthn.enabled=false
cas.server.tomcat.http.enabled=false
cas.server.tomcat.http.port=8080
cas.server.tomcat.http.protocol=org.apache.coyote.http11.Http11NioProtocol
cas.server.tomcat.http.attributes.attributeName=attributeValue

cas.server.tomcat.httpProxy.enabled=false
cas.server.tomcat.httpProxy.secure=true
cas.server.tomcat.httpProxy.protocol=org.apache.coyote.http11.Http11NioProtocol
cas.server.tomcat.httpProxy.scheme=https
cas.server.tomcat.httpProxy.attributes.attributeName=attributeValue
